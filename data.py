import numpy as np

# Config values should be based on your physical machine
constant_spool_buildup_factor = 0.006875 * 10  # Qualified first guess for 1.1 mm line
spool_r_in_origin_first_guess = np.array([75.0, 75.0, 75.0, 75.0, 75.0])
spool_gear_teeth = 255
motor_gear_teeth = 20
mechanical_advantage = np.array([2.0, 2.0, 2.0, 2.0, 4.0])
lines_per_spool = np.array([1.0, 1.0, 1.0, 1.0, 1.0])
springKPerUnitLength = 20000.0
mover_weight = 2.0

line_lengths_when_at_origin = np.array([2003.59676582, 2003.59676582, 2003.59676582, 2003.59676582, 2000.])

xyz_of_samp = np.array(
    [
       [ 1.79255679e+01, -1.76352632e+01, -2.74971510e+01],
       [-5.23885148e+02, -5.01061599e+02,  5.07741532e+02],
       [-5.38352510e+02, -5.30255594e+02,  9.53040004e+02],
       [-5.45189816e+02, -5.58037791e-01,  2.64689901e+01],
       [-5.20999273e+02, -3.27341154e+00,  5.37019049e+02],
       [-4.70799477e+02,  1.65498517e+01,  1.04717018e+03],
       [-5.05362595e+02,  4.67529134e+02, -4.25453256e+01],
       [-5.13234032e+02,  4.64122399e+02,  5.33480869e+02],
       [-5.38293120e+02,  5.26060302e+02,  1.03039159e+03],
       [ 8.98405788e+00, -5.20642383e+02, -2.66148823e+01],
       [-5.52678502e+00, -5.14840431e+02,  5.17628213e+02],
       [-3.86000122e+01, -4.92617793e+02,  9.91936222e+02],
       [-5.07629503e+02, -4.65976040e+02,  3.17537695e+01],
       [-3.05601452e+01,  3.59665477e+01,  4.58719776e+02],
       [ 4.32898928e+01,  2.88400594e+01,  1.04672968e+03],
       [ 1.05874156e+01,  5.04407891e+02, -4.42588518e+01],
       [-1.99804722e+01,  5.20417440e+02,  5.17004705e+02],
       [-3.79958866e+01,  4.54266612e+02,  9.75222737e+02],
       [ 4.55930483e+02, -4.87688259e+02,  2.60515823e+01],
       [ 4.82712486e+02, -5.20125685e+02,  5.35481389e+02],
       [ 4.95517745e+02, -5.39356090e+02,  9.65228753e+02],
       [ 5.00096373e+02, -2.24374570e+01, -4.20139801e+01],
       [ 4.90657689e+02, -3.04215669e+01,  5.27319817e+02],
       [ 5.06742907e+02, -3.19689121e+01,  9.98360926e+02],
       [ 4.90590662e+02,  5.23118645e+02,  4.14092948e+01],
       [ 5.17848381e+02,  5.01639033e+02,  4.82878157e+02],
       [ 5.25399857e+02,  4.59863258e+02,  9.81665044e+02]
    ]
)

# Generated with no flex compensation
# motor_pos_samp = pos_to_motor_pos_samples(anchors, pos, 0, False)
motor_pos_samp = np.array(
    [
       [  -369.97133086,   -375.66959393,    316.34560633,
           321.94609589,   1077.75975713],
       [ -5759.01057516,  12615.08424755,  12275.59850843,
         -6281.97726753, -13229.98337407],
       [ -2060.97219543,  15716.33224264,  15602.69034285,
         -2227.35643322, -27381.62276038],
       [  1442.4251883 ,  10668.27508761,   1463.3685043 ,
        -10512.72933158,   1849.83037262],
       [  3159.98245383,  11763.18458403,   3277.83725587,
         -7486.81252308, -17322.05908512],
       [  7291.94468887,  14266.33816963,   6743.79551879,
         -1553.68867173, -36100.64439146],
       [ 10090.57203732,  10675.889441  ,  -7542.39424108,
         -8463.82172607,   6068.07267818],
       [ 11669.77976994,  12405.8842912 ,  -5005.52677327,
         -6115.64295821, -14676.39535396],
       [ 16129.59499481,  16299.63450814,  -1127.9130486 ,
         -1373.47262378, -29820.36571367],
       [-10122.43960565,   1100.72500198,  10138.58559936,
          1439.38883774,   3605.756548  ],
       [ -7527.74534992,   3176.81909782,  11551.45807825,
          2977.18307984, -16695.41664699],
       [ -2531.87450143,   7228.3147109 ,  14207.41418159,
          5938.05560439, -33823.45808762],
       [ -7398.16588201,  10779.40735575,  10135.92434965,
         -8409.43737118,   3330.02537493],
       [  2207.56498303,   2107.80296987,    860.35188277,
           963.14232699, -17745.30959353],
       [  6582.41640758,   5361.04628015,   5608.31555101,
          6823.30727184, -40219.08056667],
       [  9809.00939173,    977.4905076 ,  -9827.85176463,
          1377.48954933,   4119.45515998],
       [ 11655.94023884,   3460.42828979,  -7629.63832939,
          2739.08083977, -16597.3181957 ],
       [ 13385.27733777,   6915.40099512,  -2118.11173865,
          5637.00997696, -33863.99419124],
       [ -8108.90080311,  -7342.20860536,  10353.26565632,
          9859.27771014,   3267.94097714],
       [ -6116.93384181,  -5267.96158535,  12609.82866003,
         12052.1408033 , -14452.27937288],
       [ -2290.52818859,  -1396.80907196,  15701.50047006,
         15083.33018867, -28278.36387567],
       [   734.77431785,  -9739.7352902 ,   1582.85973463,
          9727.42550404,   3997.73874831],
       [  2473.96096152,  -7017.4007458 ,   3574.18124601,
         11142.58224923, -17338.278132  ],
       [  6168.36875155,  -2680.22457923,   7234.30238782,
         14510.73989763, -33810.94743147],
       [ 11178.91365375,  -7734.00545613,  -8529.47143446,
         10680.97899928,   3344.9573659 ],
       [ 12148.6236308 ,  -6352.25541301,  -5979.22868207,
         12390.52086778, -12429.90917227],
       [ 14529.08862584,  -2070.20634574,   -749.1973495 ,
         15459.74674515, -29542.51506619]
    ]
)

# Generated with flex compensation
# motor_pos_samples = pos_to_motor_pos_samples(anchors, pos, 20, True)
#motor_pos_samp = np.array(
#    [
#       [  -369.58609387,   -375.29396855,    317.91184282,
#           323.52214156,   1076.80959977],
#       [ -5752.0896211 ,  12684.81746173,  12344.08999181,
#         -6275.70760911, -13233.40119754],
#       [ -2048.83305984,  15817.17840356,  15702.84011251,
#         -2215.62052102, -27377.19026704],
#       [  1465.31821991,  10710.4339081 ,   1486.30672549,
#        -10502.25101052,   1843.9394221 ],
#       [  3192.47800976,  11825.29426292,   3310.74909443,
#         -7479.34319472, -17312.3368333 ],
#       [  7338.19413077,  14353.88288287,   6786.70764259,
#         -1552.13573883, -36078.36378187],
#       [ 10132.61635504,  10719.09762197,  -7533.76001979,
#         -8455.38023592,   6051.956053  ],
#       [ 11735.89557575,  12474.71717231,  -4997.83528125,
#         -6109.53899159, -14677.40138713],
#       [ 16233.96918729,  16405.12479906,  -1110.42815967,
#         -1356.59254137, -29813.50295791],
#       [-10112.34907465,   1121.68560353,  10177.34821782,
#          1461.03157744,   3598.89997665],
#       [ -7520.23527999,   3209.13006916,  11611.99173652,
#          3008.80369674, -16686.02305477],
#       [ -2529.34463269,   7275.98142332,  14293.8205203 ,
#          5978.38068699, -33803.02264388],
#       [ -7389.4678355 ,  10825.3409007 ,  10180.48128046,
#         -8401.04998007,   3316.07110403],
#       [  2211.40671242,   2111.29269087,    859.49129879,
#           962.6350027 , -17732.81159413],
#       [  6588.07191703,   5355.67619644,   5605.19961097,
#          6831.09313097, -40190.41314644],
#       [  9846.17173913,    997.64776716,  -9818.05399677,
#          1398.42927125,   4112.4891462 ],
#       [ 11716.99576615,   3493.87937612,  -7622.02684706,
#          2770.03585674, -16588.12507688],
#       [ 13465.52800333,   6960.31851935,  -2115.99503104,
#          5674.69661079, -33842.3921186 ],
#       [ -8100.81240478,  -7333.85350166,  10397.20035247,
#          9902.17005513,   3254.46395956],
#       [ -6110.82858923,  -5260.68626986,  12680.08218414,
#         12120.30954553, -14454.20707365],
#       [ -2281.85299886,  -1385.74175751,  15802.3865989 ,
#         15180.39274419, -28273.03733673],
#       [   754.41149621,  -9730.0251034 ,   1604.15387749,
#          9764.39044336,   3990.93856291],
#       [  2503.16665884,  -7010.39870999,   3607.2108333 ,
#         11201.26908614, -17327.98898451],
#       [  6210.27110993,  -2677.54660214,   7282.28650837,
#         14599.417566  , -33790.95427313],
#       [ 11227.05547733,  -7725.29526968,  -8520.96464144,
#         10728.03213827,   3330.1585467 ],
#       [ 12215.56515786,  -6345.91575306,  -5972.44605709,
#         12458.32108416, -12433.76787772],
#       [ 14622.6285915 ,  -2065.60330095,   -740.5190987 ,
#         15559.1232983 , -29535.92901142]
#    ]
#)


force_samp = np.array(
    [
    ]
)
